<!-- 
/*
 * 
 *                  xxxxxxx      xxxxxxx
 *                   x:::::x    x:::::x 
 *                    x:::::x  x:::::x  
 *                     x:::::xx:::::x   
 *                      x::::::::::x    
 *                       x::::::::x     
 *                       x::::::::x     
 *                      x::::::::::x    
 *                     x:::::xx:::::x   
 *                    x:::::x  x:::::x  
 *                   x:::::x    x:::::x 
 *              THE xxxxxxx      xxxxxxx TOOLKIT
 *                    
 *                  http://www.goXTK.com
 *                   
 * Copyright (c) 2012 The X Toolkit Developers <dev@goXTK.com>
 *                   
 *    The X Toolkit (XTK) is licensed under the MIT License:
 *      http://www.opensource.org/licenses/mit-license.php
 *
 * The used data is licensed under the Slicer license and is available at
 *  
 *   http://www.spl.harvard.edu/publications/item/view/1953
 *
 * THANK YOU!
 *
 */
-->

<html>
<head>
<title>The SPL Knee Atlas</title>

<script type="text/javascript" src="https://get.goXTK.com/xtk_edge.js"></script>

<script type="text/javascript">
  var run = function() {

    renderer = new X.renderer3D();
    renderer.container = 'r';
    renderer.init();
    
    //
    // bones
    //
    bones = new X.object();
    
    var femur = new X.mesh();
    femur.file = 'Model_95_femur.vtk';
    femur.caption = 'Femur';
    
    var tibia = new X.mesh();
    tibia.file = 'Model_96_tibia.vtk';
    tibia.caption = 'Tibia';
    
    var fibula = new X.mesh();
    fibula.file = 'Model_97_fibula.vtk';
    fibula.caption = 'Fibula';
    
    var patella = new X.mesh();
    patella.file = 'Model_98_patella.vtk';
    patella.caption = 'Patella';
    

    bones.children.push(femur);
    bones.children.push(tibia);
    bones.children.push(fibula);
    bones.children.push(patella);
    bones.color = [1, 1, 1];
    
    //
    // cartilages
    //
    cartilages = new X.object();
    
    var femoral_cartilage = new X.mesh();
    femoral_cartilage.file = 'Model_83_femoral_cartilage.vtk';
    femoral_cartilage.caption = 'Femoral cartilage';
    
    var lateral_tibial_cartilage = new X.mesh();
    lateral_tibial_cartilage.file = 'Model_84_lateral_tibial_cartilage.vtk';
    lateral_tibial_cartilage.caption = 'Lateral tibial cartilage';
    
    var medial_tibial_cartilage = new X.mesh();
    medial_tibial_cartilage.file = 'Model_85_medial_tibial_cartilage.vtk';
    medial_tibial_cartilage.caption = 'Medial tibial cartilage';
    
    var patellar_cartilage = new X.mesh();
    patellar_cartilage.file = 'Model_86_patellar_cartilage.vtk';
    patellar_cartilage.caption = 'Patellar cartilage';
    
    cartilages.children.push(femoral_cartilage);
    cartilages.children.push(lateral_tibial_cartilage);
    cartilages.children.push(medial_tibial_cartilage);
    cartilages.children.push(patellar_cartilage);
    cartilages.color = [0.43, 0.71, 0.82];
    
    //
    // meniscus
    //
    meniscus = new X.object();
    
    var lateral_meniscus = new X.mesh();
    lateral_meniscus.file = 'Model_81_lateral_meniscus.vtk';
    lateral_meniscus.caption = 'Lateral meniscus';
    
    var medial_meniscus = new X.mesh();
    medial_meniscus.file = 'Model_82_medial_meniscus.vtk';
    medial_meniscus.caption = 'Medial meniscus';
    
    meniscus.children.push(lateral_meniscus);
    meniscus.children.push(medial_meniscus);
    meniscus.color = [0.7, 0.7, 0.7];
    
    //
    // vascular system
    //
    vascular_system = new X.object();
    
    //
    // arteries
    var arteries = new X.object();
    
    var popliteal_artery = new X.mesh();
    popliteal_artery.file = 'Model_71_popliteal_artery.vtk';
    popliteal_artery.caption = 'Popliteal artery';
    
    var superior_medial_genicular_artery = new X.mesh();
    superior_medial_genicular_artery
        .file = 'Model_73_superior_medial_genicular_artery.vtk';
    superior_medial_genicular_artery.caption = 'Superior medial genicular artery';
    
    var superior_lateral_genicular_artery = new X.mesh();
    superior_lateral_genicular_artery
        .file = 'Model_74_superior_lateral_genicular_artery.vtk';
    superior_lateral_genicular_artery.caption = 'Superior lateral genicular artery';
    
    var middle_genicular_artery = new X.mesh();
    middle_genicular_artery.file = 'Model_75_middle_genicular_artery.vtk';
    middle_genicular_artery.caption = 'Middle genicular artery';
    
    arteries.children.push(popliteal_artery);
    arteries.children.push(superior_medial_genicular_artery);
    arteries.children.push(superior_lateral_genicular_artery);
    arteries.children.push(middle_genicular_artery);
    arteries.color = [1, 0, 0];
    
    //
    // veins
    var veins = new X.object();
    
    var popliteal_vein = new X.mesh();
    popliteal_vein.file = 'Model_72_popliteal_vein.vtk';
    popliteal_vein.caption = 'Popliteal vein';
    
    var great_saphenous_vein = new X.mesh();
    great_saphenous_vein.file = 'Model_77_great_saphenous_vein.vtk';
    great_saphenous_vein.caption = 'Great saphenous vein';
    
    var small_saphenous_vein = new X.mesh();
    small_saphenous_vein.file = 'Model_78_small_saphenous_vein.vtk';
    small_saphenous_vein.caption = 'Small saphenous vein';
    
    veins.children.push(popliteal_vein);
    veins.children.push(great_saphenous_vein);
    veins.children.push(small_saphenous_vein);
    veins.color = [0, 0, 1];
    
    vascular_system.children.push(arteries);
    vascular_system.children.push(veins);
    
    //
    // nerves
    //
    nerves = new X.object();
    
    var peroneus_nerve = new X.mesh();
    peroneus_nerve.file = 'Model_61_peroneus_nerve.vtk';
    peroneus_nerve.caption = 'Peroneus nerve';
    
    var tibialis_nerve = new X.mesh();
    tibialis_nerve.file = 'Model_62_tibialis_nerve.vtk';
    tibialis_nerve.caption = 'Tibialis nerve';
    
    var muscular_branches_tibialis_nerve = new X.mesh();
    muscular_branches_tibialis_nerve
        .file = 'Model_63_muscular_branches_tibialis_nerve.vtk';
    muscular_branches_tibialis_nerve.caption = 'Muscular branches tibialis nerve';
    
    var medial_sural_cutaneous_nerve = new X.mesh();
    medial_sural_cutaneous_nerve
        .file = 'Model_64_medial_sural_cutaneous_nerve.vtk';
    medial_sural_cutaneous_nerve.caption = 'Medial sural cutaneous nerve';
    
    nerves.children.push(peroneus_nerve);
    nerves.children.push(tibialis_nerve);
    nerves.children.push(muscular_branches_tibialis_nerve);
    nerves.children.push(medial_sural_cutaneous_nerve);
    nerves.color = [1, 1, 0];
    
    //
    // tendons
    //
    tendons = new X.object();
    
    var adductor_magnus_tendon = new X.mesh();
    adductor_magnus_tendon.file = 'Model_41_adductor_magnus_tendon.vtk';
    adductor_magnus_tendon.caption = 'Adductor magnus tendon';
    
    var biceps_femoris_tendon = new X.mesh();
    biceps_femoris_tendon.file = 'Model_42_biceps_femoris_tendon.vtk';
    biceps_femoris_tendon.caption = 'Biceps femoris tendon';
    
    var iliotibial_tract = new X.mesh();
    iliotibial_tract.file = 'Model_43_iliotibial_tract.vtk';
    iliotibial_tract.caption = 'Iliotibial tract';
    
    var popliteus_tendon = new X.mesh();
    popliteus_tendon.file = 'Model_44_popliteus_tendon.vtk';
    popliteus_tendon.caption = 'Popliteus tendon';
    
    var soleus_tendon = new X.mesh();
    soleus_tendon.file = 'Model_46_soleus_tendon.vtk';
    soleus_tendon.caption = 'Soleus tendon';
    
    var semitendinosus_tendon = new X.mesh();
    semitendinosus_tendon.file = 'Model_47_semitendinosus_tendon.vtk';
    semitendinosus_tendon.caption = 'Semitendinosus tendon';
    
    var gracilis_tendon = new X.mesh();
    gracilis_tendon.file = 'Model_48_gracilis_tendon.vtk';
    gracilis_tendon.caption = 'Gracilis tendon';
    
    tendons.children.push(adductor_magnus_tendon);
    tendons.children.push(biceps_femoris_tendon);
    tendons.children.push(iliotibial_tract);
    tendons.children.push(popliteus_tendon);
    tendons.children.push(soleus_tendon);
    tendons.children.push(semitendinosus_tendon);
    tendons.children.push(gracilis_tendon);
    tendons.color = [0.93, 0.85, 0.85];
    
    //
    // muscles
    //
    muscles = new X.object();
    
    var vastus_lateralis_muscle = new X.mesh();
    vastus_lateralis_muscle.file = 'Model_12_vastus_lateralis_muscle.vtk';
    vastus_lateralis_muscle.caption = 'Vastus lateralis muscle';
    
    var vastus_medialis_muscle = new X.mesh();
    vastus_medialis_muscle.file = 'Model_13_vastus_medialis_muscle.vtk';
    vastus_medialis_muscle.caption = 'Vastus medialis muscle';
    
    var biceps_femoris_muscle = new X.mesh();
    biceps_femoris_muscle.file = 'Model_15_biceps_femoris_muscle.vtk';
    biceps_femoris_muscle.caption = 'Biceps femoris muscle';
    
    var semimembranosus_muscle = new X.mesh();
    semimembranosus_muscle.file = 'Model_16_semimembranosus_muscle.vtk';
    semimembranosus_muscle.caption = 'Semimembranosus muscle';
    
    var semitendinosus_muscle = new X.mesh();
    semitendinosus_muscle.file = 'Model_17_semitendinosus_muscle.vtk';
    semitendinosus_muscle.caption = 'Semitendinosus muscle';
    
    var gracilis_muscle = new X.mesh();
    gracilis_muscle.file = 'Model_18_gracilis_muscle.vtk';
    gracilis_muscle.caption = 'Gracilis muscle';
    
    var sartorius_muscle = new X.mesh();
    sartorius_muscle.file = 'Model_19_sartorius_muscle.vtk';
    sartorius_muscle.caption = 'Sartorius muscle';
    
    var medial_head_gastrocnemius_muscle = new X.mesh();
    medial_head_gastrocnemius_muscle
        .file = 'Model_20_medial_head_gastrocnemius_muscle.vtk';
    medial_head_gastrocnemius_muscle.caption = 'Medial head gastrocnemius muscle';
    
    var lateral_head_gastrocnemius_muscle = new X.mesh();
    lateral_head_gastrocnemius_muscle
        .file = 'Model_21_lateral_head_gastrocnemius_muscle.vtk';
    lateral_head_gastrocnemius_muscle.caption = 'Lateral head gastrocnemius muscle';
    
    var popliteus_muscle = new X.mesh();
    popliteus_muscle.file = 'Model_22_popliteus_muscle.vtk';
    popliteus_muscle.caption = 'Popliteus muscle';
    
    var soleus_muscle = new X.mesh();
    soleus_muscle.file = 'Model_23_soleus_muscle.vtk';
    soleus_muscle.caption = 'Soleus muscle';
    
    var tibialis_anterior_muscle = new X.mesh();
    tibialis_anterior_muscle.file = 'Model_24_tibialis_anterior_muscle.vtk';
    tibialis_anterior_muscle.caption = 'Tibialis anterior muscle';
    
    var extensor_digitorum_longus_muscle = new X.mesh();
    extensor_digitorum_longus_muscle
        .file = 'Model_25_extensor_digitorum_longus_muscle.vtk';
    extensor_digitorum_longus_muscle.caption = 'Extensor digitorum longus muscle';
    
    var peroneus_longus_muscle = new X.mesh();
    peroneus_longus_muscle.file = 'Model_26_peroneus_longus_muscle.vtk';
    peroneus_longus_muscle.caption = 'Peroneus longus muscle';
    
    muscles.children.push(vastus_lateralis_muscle);
    muscles.children.push(vastus_medialis_muscle);
    muscles.children.push(biceps_femoris_muscle);
    muscles.children.push(semimembranosus_muscle);
    muscles.children.push(semitendinosus_muscle);
    muscles.children.push(gracilis_muscle);
    muscles.children.push(sartorius_muscle);
    muscles.children.push(medial_head_gastrocnemius_muscle);
    muscles.children.push(lateral_head_gastrocnemius_muscle);
    muscles.children.push(popliteus_muscle);
    muscles.children.push(soleus_muscle);
    muscles.children.push(tibialis_anterior_muscle);
    muscles.children.push(extensor_digitorum_longus_muscle);
    muscles.children.push(peroneus_longus_muscle);
    muscles.color = [0.89, 0.48, 0.48];
    
    //
    // ligaments
    //
    ligaments = new X.object();
    
    var anterior_cruciate_ligament = new X.mesh();
    anterior_cruciate_ligament.file = 'Model_31_anterior_cruciate_ligament.vtk';
    anterior_cruciate_ligament.caption = 'Anterior cruciate ligament';
    
    var posterior_cruciate_ligament = new X.mesh();
    posterior_cruciate_ligament
        .file = 'Model_32_posterior_cruciate_ligament.vtk';
    posterior_cruciate_ligament.caption = 'Posterior cruciate ligament';
    
    var fibular_collateral_ligament = new X.mesh();
    fibular_collateral_ligament
        .file = 'Model_33_fibular_collateral_ligament.vtk';
    fibular_collateral_ligament.caption = 'Fibular collateral ligament';
    
    var tibial_collateral_ligament = new X.mesh();
    tibial_collateral_ligament.file = 'Model_34_tibial_collateral_ligament.vtk';
    tibial_collateral_ligament.caption = 'Tibial collateral ligament';
    
    var patellar_ligament = new X.mesh();
    patellar_ligament.file = 'Model_35_patellar_ligament.vtk';
    patellar_ligament.caption = 'Patellar ligament';
    
    ligaments.children.push(anterior_cruciate_ligament);
    ligaments.children.push(posterior_cruciate_ligament);
    ligaments.children.push(fibular_collateral_ligament);
    ligaments.children.push(tibial_collateral_ligament);
    ligaments.children.push(patellar_ligament);
    ligaments.color = [0.8, 0.8, 0.8];
    
    //
    // fat
    //
    fat = new X.object();
    
    var infrapatellar_fat_body = new X.object();
    infrapatellar_fat_body.file = 'Model_9_infrapatellar_fat_body.vtk';
    infrapatellar_fat_body.caption = 'Infrapatellar fat body';
    
    fat.children.push(infrapatellar_fat_body);
    fat.color = [0.87, 0.89, 0.58];
    
    //
    // Add all knee components to the renderer
    //
    renderer.add(bones);
    renderer.add(cartilages);
    renderer.add(meniscus);
    renderer.add(vascular_system);
    renderer.add(nerves);
    renderer.add(tendons);
    renderer.add(muscles);
    renderer.add(ligaments);
    renderer.add(fat);
    
    // position the camera for a nice view and set the up-vector for correct orientation
    renderer.camera.up = [0, 0, 1];
    renderer.camera.position = [-300, 0, 0];
    
    // .. curtain up!!
    renderer.render();
    
  };
</script>

<style type="text/css">
body {
	font-family: sans-serif;
	margin-top: 0px;
	margin-left: 0px;
}

div.logoBox {
	background-color: #ffffff;
	width: 20%;
	float: right;
	margin-bottom: 10px;
}

div.anatomyBox {
	background-color: #000000;
	width: 20%;
	height: 63px;
	margin-top: 1px;
	float: right;
	line-height: 63px;
}

div.anatomyBox span {
	color: #ffffff;
	font-size: 1.3em;
	vertical-align: middle;
	margin-left: 5px;
	cursor: hand;
}

.tinyText {
	font-size: 0.5em;
}
</style>

<script type="text/javascript">
  function toggleVisibility(objectname) {

    // retrieve object
    object = eval(objectname);
    // toggle visibility
    object.visible = !object.visible;
    
    // update checkbox
    document.getElementById(objectname + '_checkbox').checked = object
        .visible;
    
  }
</script>

</head>

<body onload="run()">
	
	<!-- the container for the renderer -->
	<div id="r"
		style="background-color: #000000; width: 80%; height: 100%; float: left;"></div>
		
	<!-- the sidebar -->
	<div class="logoBox">
		<center>
			<img src="logo_spl.gif" width=60><br> <span>The SPL
				Knee Atlas, 2011</span><br> <span class="tinyText"><a
				href="http://www.spl.harvard.edu/publications/item/view/1953"
				target=_blank>More information</a></span>
		</center>
	</div>
	<div class="anatomyBox">
		<span onClick="toggleVisibility('bones');"><input
			type="checkbox" id="bones_checkbox" checked><img
			src="bones.png" style="vertical-align: middle">Bones</span>
	</div>
	<div class="anatomyBox">
		<span onClick="toggleVisibility('cartilages');"><input
			type="checkbox" id="cartilages_checkbox" checked><img
			src="cartilages.png" style="vertical-align: middle">Cartilages</span>
	</div>
	<div class="anatomyBox">
		<span onClick="toggleVisibility('meniscus');"><input
			type="checkbox" id="meniscus_checkbox" checked><img
			src="meniscus.png" style="vertical-align: middle">Meniscus</span>
	</div>
	<div class="anatomyBox">
		<span onClick="toggleVisibility('vascular_system');"><input
			type="checkbox" id="vascular_system_checkbox" checked><img
			src="vascular_system.png" style="vertical-align: middle">Vascular
			System</span>
	</div>
	<div class="anatomyBox">
		<span onClick="toggleVisibility('nerves');"><input
			type="checkbox" id="nerves_checkbox" checked><img
			src="nerves.png" style="vertical-align: middle">Nerves</span>
	</div>
	<div class="anatomyBox">
		<span onClick="toggleVisibility('tendons');"><input
			type="checkbox" id="tendons_checkbox" checked><img
			src="tendons.png" style="vertical-align: middle">Tendons</span>
	</div>
	<div class="anatomyBox">
		<span onClick="toggleVisibility('muscles');"><input
			type="checkbox" id="muscles_checkbox" checked><img
			src="muscles.png" style="vertical-align: middle">Muscles</span>
	</div>
	<div class="anatomyBox">
		<span onClick="toggleVisibility('ligaments');"><input
			type="checkbox" id="ligaments_checkbox" checked><img
			src="ligaments.png" style="vertical-align: middle">Ligaments</span>
	</div>
	<div class="anatomyBox">
		<span onClick="toggleVisibility('fat');"><input type="checkbox"
			id="fat_checkbox" checked><img src="fat.png"
			style="vertical-align: middle">Fat</span>
	</div>
</body>
</html>
