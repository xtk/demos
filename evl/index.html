<!-- 
/*
 * 
 *                  xxxxxxx      xxxxxxx
 *                   x:::::x    x:::::x 
 *                    x:::::x  x:::::x  
 *                     x:::::xx:::::x   
 *                      x::::::::::x    
 *                       x::::::::x     
 *                       x::::::::x     
 *                      x::::::::::x    
 *                     x:::::xx:::::x   
 *                    x:::::x  x:::::x  
 *                   x:::::x    x:::::x 
 *              THE xxxxxxx      xxxxxxx TOOLKIT
 *                    
 *                  http://www.goXTK.com
 *                   
 * Copyright (c) 2012 The X Toolkit Developers <dev@goXTK.com>
 *                   
 *    The X Toolkit (XTK) is licensed under the MIT License:
 *      http://www.opensource.org/licenses/mit-license.php
 *
 * The data used was collected by the Megason Laboratory, Harvard Medical School
 *
 *   https://wiki.med.harvard.edu/SysBio/Megason/
 *
 * THANK YOU!
 *
 */
-->

<html>
<head>
<title>Zebrafish development</title>

<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.17/themes/base/jquery-ui.css" type="text/css" media="all" />

<script type="text/javascript" src="http://goXTK.com/xtk_nightly.js"></script>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.17/jquery-ui.min.js" type="text/javascript"></script>
<script src="http://jquery-ui.googlecode.com/svn/tags/latest/external/jquery.bgiframe-2.1.2.js" type="text/javascript"></script>
<script src="http://jquery-ui.googlecode.com/svn/tags/latest/ui/minified/i18n/jquery-ui-i18n.min.js" type="text/javascript"></script>

<script type="text/javascript">
  function run() {

    $.r = new X.renderer('r');
    $.r.init();
    
    //
    // nuclei
    // 
    $.nuclei = new X.object();
   
    var n59 = new X.object();
    n59.load('nuclei/40_59.vtk');
    
    var n60 = new X.object();
    n60.load('nuclei/40_60.vtk');
    
    var n61 = new X.object();
    n61.load('nuclei/40_61.vtk');
    
    var n62 = new X.object();
    n62.load('nuclei/40_62.vtk');
    
    var n63 = new X.object();
    n63.load('nuclei/40_63.vtk');
    
    var n64 = new X.object();
    n64.load('nuclei/40_64.vtk');
    
    var n65 = new X.object();
    n65.load('nuclei/40_65.vtk');
    
    var n66 = new X.object();
    n66.load('nuclei/40_66.vtk');
    
    var n67 = new X.object();
    n67.load('nuclei/40_67.vtk');
    
    var n68 = new X.object();
    n68.load('nuclei/40_68.vtk');
    
    var n69 = new X.object();
    n69.load('nuclei/40_69.vtk');
    
    var n70 = new X.object();
    n70.load('nuclei/40_70.vtk');
    
    var n71 = new X.object();
    n71.load('nuclei/40_71.vtk');
    
    var n72 = new X.object();
    n72.load('nuclei/40_72.vtk');
    
    var n73 = new X.object();
    n73.load('nuclei/40_73.vtk');
    
    var n74 = new X.object();
    n74.load('nuclei/40_74.vtk');
    
    var n75 = new X.object();
    n75.load('nuclei/40_75.vtk');
    
    var n76 = new X.object();
    n76.load('nuclei/40_76.vtk');
    
    var n77 = new X.object();
    n77.load('nuclei/40_77.vtk');
    
    var n78 = new X.object();
    n78.load('nuclei/40_78.vtk');
    
    var n79 = new X.object();
    n79.load('nuclei/40_79.vtk');
    
    var n80 = new X.object();
    n80.load('nuclei/40_80.vtk');
    
    var n81 = new X.object();
    n81.load('nuclei/40_81.vtk');
    
    var n82 = new X.object();
    n82.load('nuclei/40_82.vtk');
    
    var n83 = new X.object();
    n83.load('nuclei/40_83.vtk');
    
    var n84 = new X.object();
    n84.load('nuclei/40_84.vtk');
    
    $.nuclei.children().push(n59);
    $.nuclei.children().push(n60);
    $.nuclei.children().push(n61);
    $.nuclei.children().push(n62);
    $.nuclei.children().push(n63);
    $.nuclei.children().push(n64);
    $.nuclei.children().push(n65);
    $.nuclei.children().push(n66);
    $.nuclei.children().push(n67);
    $.nuclei.children().push(n68);
    $.nuclei.children().push(n69);
    $.nuclei.children().push(n70);
    $.nuclei.children().push(n71);
    $.nuclei.children().push(n72);
    $.nuclei.children().push(n73);
    $.nuclei.children().push(n74);
    $.nuclei.children().push(n75);
    $.nuclei.children().push(n76);
    $.nuclei.children().push(n77);
    $.nuclei.children().push(n78);
    $.nuclei.children().push(n79);
    $.nuclei.children().push(n80);
    $.nuclei.children().push(n81);
    $.nuclei.children().push(n82);
    $.nuclei.children().push(n83);
    $.nuclei.children().push(n84);
   
    $.nuclei.setColor(1, 0, 0);
    $.nuclei.setOpacity(0.5);
    
    // add elements to the scene
    $.r.add($.nuclei);
    
    //
    // membrane
    // 
    $.membrane = new X.object();
   
    var m1 = new X.object();
    m1.load('membrane/40_1.vtk');
    var m2 = new X.object();
    m2.load('membrane/40_2.vtk');
    var m3 = new X.object();
    m3.load('membrane/40_3.vtk');
    var m4 = new X.object();
    m4.load('membrane/40_4.vtk');
    var m5 = new X.object();
    m5.load('membrane/40_5.vtk');
    var m6 = new X.object();
    m6.load('membrane/40_6.vtk');
    var m7 = new X.object();
    m7.load('membrane/40_7.vtk');
    var m8 = new X.object();
    m8.load('membrane/40_8.vtk');
    var m9 = new X.object();
    m9.load('membrane/40_9.vtk');
    var m10 = new X.object();
    m10.load('membrane/40_10.vtk');
    var m11 = new X.object();
    m11.load('membrane/40_11.vtk');
    var m12 = new X.object();
    m12.load('membrane/40_12.vtk');
    var m13 = new X.object();
    m13.load('membrane/40_13.vtk');
    var m14 = new X.object();
    m14.load('membrane/40_14.vtk');
    var m15 = new X.object();
    m15.load('membrane/40_15.vtk');
    var m16 = new X.object();
    m16.load('membrane/40_16.vtk');
    var m17 = new X.object();
    m17.load('membrane/40_17.vtk');
    var m18 = new X.object();
    m18.load('membrane/40_18.vtk');
    var m19 = new X.object();
    m19.load('membrane/40_19.vtk');
    var m20 = new X.object();
    m20.load('membrane/40_20.vtk');
    var m21 = new X.object();
    m21.load('membrane/40_21.vtk');
    var m22 = new X.object();
    m22.load('membrane/40_22.vtk');
    var m23 = new X.object();
    m23.load('membrane/40_23.vtk');
    var m24 = new X.object();
    m24.load('membrane/40_24.vtk');
    var m25 = new X.object();
    m25.load('membrane/40_25.vtk');
    var m26 = new X.object();
    m26.load('membrane/40_26.vtk');
    var m27 = new X.object();
    m27.load('membrane/40_27.vtk');

    $.membrane.children().push(m1);
    $.membrane.children().push(m2);
    $.membrane.children().push(m3);
    $.membrane.children().push(m4);
    $.membrane.children().push(m5);
    $.membrane.children().push(m6);
    $.membrane.children().push(m7);
    $.membrane.children().push(m8);
    $.membrane.children().push(m9);
    $.membrane.children().push(m10);
    $.membrane.children().push(m11);
    $.membrane.children().push(m12);
    $.membrane.children().push(m13);
    $.membrane.children().push(m14);
    $.membrane.children().push(m15);
    $.membrane.children().push(m16);
    $.membrane.children().push(m17);
    $.membrane.children().push(m18);
    $.membrane.children().push(m19);
    $.membrane.children().push(m20);
    $.membrane.children().push(m21);
    $.membrane.children().push(m22);
    $.membrane.children().push(m23);
    $.membrane.children().push(m24);
    $.membrane.children().push(m25);
    $.membrane.children().push(m26);
    $.membrane.children().push(m27);
    
    $.membrane.setColor(0, 1, 0);
    $.membrane.setOpacity(0.5);

    // add element to the scene
    $.r.add($.membrane);

    // position the camera for a nice view and set the up-vector for correct orientation
    $.r.camera().setUp(0, 0, 1);
    $.r.camera().setPosition(-400, 0, 0);
    
    // .. curtain up!!
    $.r.render();
  };
  
  function setElementOpacity(objectname, opacity) {
    
    objectname.setOpacity(eval(opacity/100));
 
    $.r.render();
  }

  $(document).ready(function(){
	$( "#sliderhorizontalnuclei" ).slider({
		orientation: "horizontal",
		range: "min",
		min: 0,
		max: 100,
		value: 50,
		slide: function( event, ui ) {
			$( "#opacitynuclei" ).val( ui.value );
                        $.get('index.html', function(){
                                              setElementOpacity($.nuclei, ui.value);});                        
		}
	});
	$( "#opacitynuclei" ).val( $( "#sliderhorizontalnuclei" ).slider( "value" ) );

	$( "#sliderhorizontalmembrane" ).slider({
		orientation: "horizontal",
		range: "min",
		min: 0,
		max: 100,
		value: 50,
		slide: function( event, ui ) {
			$( "#opacitymembrane" ).val( ui.value );
                        $.get('index.html', function(){
                                              setElementOpacity($.membrane, ui.value);});                        
		}
	});
	$( "#opacitymembrane" ).val( $( "#sliderhorizontalmembrane" ).slider( "value" ) );
  });

</script>

</head>

<style type="text/css">

body {
  font-family: sans-serif;
  margin-top: 0px;
  margin-left: 0px;
}

div.logoBox {
  background-color: #ffffff;
  width: 20%;
  float: right;
  margin-bottom: 10px;
}

div.anatomyBox {
  background-color: #000000;
  width: 20%;
  height: 100px;
  float: right;
  line-height: 30px;
  margin-top: 1px;
}

div.anatomyBox span{
  color: #ffffff;
  font-size: 1.2em;
  vertical-align: middle;
  margin-left: 10px;
}

.tinyText {
  font-size: 0.5em;
}
</style>

<body onload="run()">
  
  <!-- the container for the renderer -->
  <div id="r" style="background-color: #000000; width: 80%; height: 100%; float: left;"></div>

  <div class="logoBox">
    <center>
      <br>
      <img src="megasonLabLogo.png" style="width:100%;"><br><span>Zebrafish Development</span><br><span class="tinyText"><a
        href="https://wiki.med.harvard.edu/SysBio/Megason/"
        target="_blank">More information</a></span>
    </center>
  </div>
  
  <div class="anatomyBox">
    <span>Nuclei</span><br>
    <label for="opacitynuclei" style="background-color: #000000; color: #ffffff;">Opacity:</label>
    <input type="text" id="opacitynuclei" style="border:0; color:#f6931f; background-color:#000000;font-weight:bold;" />
      <div id="sliderhorizontalnuclei" align="center"></div>
  </div>      
  
  <div class="anatomyBox">
    <span>Membranes</span><br>
    <label for="opacitymembrane" style="background-color: #000000; color: #ffffff;">Opacity:</label>
    <input type="text" id="opacitymembrane" style="border:0; color:#f6931f; background-color:#000000; font-weight:bold;" />
    <div id="sliderhorizontalmembrane" align="center"></div>
  </div>

 </body>
